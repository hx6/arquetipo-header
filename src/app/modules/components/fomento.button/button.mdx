import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { FomentoButtonComponent } from './fomento.button.component';
import * as ButtonStories from './fomento.button.stories';

<Meta title="Components/Button/Pautas accesibilidad" component={FomentoButtonComponent} />

# Accesibilidad en el Botón

El componente **Button** sigue estándares de accesibilidad para garantizar que sea usable por todas las personas, incluidos usuarios con discapacidades. Aquí se detallan las prácticas recomendadas para garantizar que el botón sea accesible:



1. **Etiqueta accesible (`aria-label`)**: 
   Utiliza la propiedad `aria_label` para proporcionar una descripción clara de la acción del botón a los lectores de pantalla.

   ```html
   <button aria-label="Enviar formulario">Enviar</button>
   ```

2. **Navegación por teclado**:

Asegúrate de que el botón sea navegable con Tab.
Los eventos click deben ser accesibles con las teclas Enter o Espacio.
Estados visuales:

Proporciona feedback visual claro para estados como hover, focus, y disabled.
Asegúrate de que el contraste de colores cumple con los estándares WCAG (mínimo de 4.5:1 para texto).
 
 <fomento-button 
  label="Enviar" 
  aria_label="Enviar formulario de contacto" 
  theme="primary">
</fomento-button>

3. **Estados visuales**:
- Proporciona feedback visual claro para estados como hover, focus, y disabled.
- Asegúrate de que el contraste de colores cumple con los estándares WCAG (mínimo de 4.5:1 para texto).

## Ejemplo accesible

<Canvas of={ButtonStories.Default} />

## Recursos externos
[ARIA Describedby - W3C](https://www.w3.org/TR/wai-aria/#aria-describedby)

---
title: "Botones: Buenas Prácticas y Accesibilidad"
---

# Botones

Los **botones** son elementos activos que permiten a los usuarios realizar una acción (p.ej., buscar, enviar un formulario, suscribirse...). Opcionalmente, el botón puede incluir un icono para reforzar la acción que se producirá cuando se active.

## Buenas prácticas

### Etiquetado y funcionalidad

Los botones deben estar etiquetados correctamente, usando `<button>` como norma general o `<input type="submit">` para botones de formulario. Esto asegura que sean accesibles mediante teclado y tengan la funcionalidad incorporada. 

- **Criterio de conformidad 4.1.2**: Nombre, función, valor.
- **Criterio de conformidad 2.1.1**: Teclado.

**Mala práctica**: Usar etiquetas no estándar como `<div>` con eventos `onclick`. Esto impide que el elemento tenga rol de botón y que sea accesible al pulsar enter.

```html
<!-- Mala práctica -->
<div onclick="enviarFormulario()">Enviar</div>
```

**Buena práctica**: Usar la etiqueta nativa `<button>`.

```html
<!-- Buena práctica -->
<button type="submit">Enviar</button>
```

---

### Uso adecuado

El botón debe usarse para cualquier interacción que ejecute una acción en la página actual. Esto asegura que el rol asignado sea correcto.

- **Criterio de conformidad 1.3.1**: Información y relaciones.

**Mala práctica**: Usar un botón con un enlace `<a>`.

```html
<!-- Mala práctica -->
<a onclick="abrirMenu()">Abrir menú</a>
```

**Buena práctica**: Usar `<button>` para estas interacciones.

```html
<!-- Buena práctica -->
<button onclick="abrirMenu()">Abrir menú</button>
```

El elemento `<a>` debe reservarse exclusivamente para interacciones que navegan a otra página.

---

### Texto del botón

El texto del botón debe describir claramente la acción que realizará, utilizando verbos en infinitivo (p.ej., buscar, aceptar).

- **Criterio de conformidad 2.4.6**: Encabezados y etiquetas.

**Mala práctica**: Usar textos ambiguos.

```html
<!-- Mala práctica -->
<button>Ir</button>
```

**Buena práctica**: Usar textos claros y descriptivos.

```html
<!-- Buena práctica -->
<button>Buscar</button>
<button>Iniciar sesión</button>
```

---

### Nombre accesible

El propósito del botón debe ser reconocible por las tecnologías asistidas. 

- En `<button>`, el texto dentro de la etiqueta define el nombre accesible.
- En `<input type="submit">`, el atributo `value` define el texto del botón.

**Ejemplo**:

```html
<!-- Buena práctica -->
<button type="submit">Enviar</button>
<input type="submit" value="Mandar">
```

**Mala práctica**: Usar `<input type="image">` sin atributo `alt`. Esto impide que el botón tenga un nombre accesible y el texto visible no se puede redimensionar.

```html
<!-- Mala práctica -->
<input type="image" src="enviar.png">
```

---

### Foco visible

El foco del botón debe ser visualmente claro y tener un contraste mínimo de 3:1 con el fondo adyacente.

- **Criterio de conformidad 2.4.7**: Foco visible.

**Mala práctica**: Diferenciar visualmente el foco para ratón y teclado.

**Buena práctica**: Usar estilos consistentes para el foco y asegurar su visibilidad.

```css
/* Ejemplo de estilo de foco */
button:focus {
  outline: 2px solid #005fcc;
  outline-offset: 2px;
}
```
